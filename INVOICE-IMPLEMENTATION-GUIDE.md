# Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ú©Ø§Ù…Ù„ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø³ÛŒØ³ØªÙ… ÙØ§Ú©ØªÙˆØ± - Hivork

## âœ… Ú©Ø§Ø±Ù‡Ø§ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡

### Backend (100% ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡)
1. âœ… **Entity Ù‡Ø§:**
   - `Invoice` - ÙØ§Ú©ØªÙˆØ± Ø§ØµÙ„ÛŒ Ø¨Ø§ ØªÙ…Ø§Ù… ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø²
   - `InvoiceItem` - Ø§Ù‚Ù„Ø§Ù… ÙØ§Ú©ØªÙˆØ±
   - `InvoicePayment` - Ù¾Ø±Ø¯Ø§Ø®Øªâ€ŒÙ‡Ø§
   - `InvoiceExtraCost` - Ù‡Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø¶Ø§ÙÛŒ

2. âœ… **DTOs:**
   - `CreateInvoiceDto` - Ø³Ø§Ø®Øª ÙØ§Ú©ØªÙˆØ±
   - `UpdateInvoiceDto` - ÙˆÛŒØ±Ø§ÛŒØ´ ÙØ§Ú©ØªÙˆØ±
   - `FilterInvoiceDto` - ÙÛŒÙ„ØªØ± Ùˆ Ø¬Ø³ØªØ¬Ùˆ
   - `CreatePaymentDto` - Ø«Ø¨Øª Ù¾Ø±Ø¯Ø§Ø®Øª
   - `CreateInvoiceItemDto` - Ø§Ù‚Ù„Ø§Ù… ÙØ§Ú©ØªÙˆØ±
   - `CreateInvoiceExtraCostDto` - Ù‡Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø¶Ø§ÙÛŒ

3. âœ… **Service:**
   - Ø³Ø§Ø®Øª ÙØ§Ú©ØªÙˆØ± Ø¨Ø§ Ù…Ø­Ø§Ø³Ø¨Ø§Øª Ø®ÙˆØ¯Ú©Ø§Ø±
   - Ù„ÛŒØ³Øª ÙØ§Ú©ØªÙˆØ±Ù‡Ø§ Ø¨Ø§ ÙÛŒÙ„ØªØ± Ùˆ ØµÙØ­Ù‡â€ŒØ¨Ù†Ø¯ÛŒ
   - Ø¬Ø²Ø¦ÛŒØ§Øª ÙØ§Ú©ØªÙˆØ±
   - ÙˆÛŒØ±Ø§ÛŒØ´ ÙØ§Ú©ØªÙˆØ± (ÙÙ‚Ø· Ù¾ÛŒØ´â€ŒÙ†ÙˆÛŒØ³â€ŒÙ‡Ø§)
   - Ø­Ø°Ù ÙØ§Ú©ØªÙˆØ± (ÙÙ‚Ø· Ù¾ÛŒØ´â€ŒÙ†ÙˆÛŒØ³â€ŒÙ‡Ø§)
   - Ù†Ù‡Ø§ÛŒÛŒ Ú©Ø±Ø¯Ù† ÙØ§Ú©ØªÙˆØ±
   - Ù„ØºÙˆ ÙØ§Ú©ØªÙˆØ±
   - ØªØ¨Ø¯ÛŒÙ„ Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ± Ø¨Ù‡ ÙØ§Ú©ØªÙˆØ± ÙØ±ÙˆØ´
   - Ø«Ø¨Øª Ù¾Ø±Ø¯Ø§Ø®Øª
   - Ø­Ø°Ù Ù¾Ø±Ø¯Ø§Ø®Øª
   - Ù„ÛŒØ³Øª Ù¾Ø±Ø¯Ø§Ø®Øªâ€ŒÙ‡Ø§
   - Ú¯Ø²Ø§Ø±Ø´ Ø®Ù„Ø§ØµÙ‡ ÙØ±ÙˆØ´

4. âœ… **Controller:**
   - ØªÙ…Ø§Ù… endpoint Ù‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø²
   - Authentication Ùˆ Authorization
   - Swagger Documentation

### Flutter (40% ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡)
1. âœ… **Models:**
   - Ú©Ø§Ù…Ù„ Ø¨Ø§ ØªÙ…Ø§Ù… Enums
   - JSON Serialization
   - CopyWith Methods

## ğŸ”¨ Ú©Ø§Ø±Ù‡Ø§ÛŒ Ø¨Ø§Ù‚ÛŒÙ…Ø§Ù†Ø¯Ù‡

### ÙØ§Ø² 1: Backend (Ø¨Ø§Ù‚ÛŒÙ…Ø§Ù†Ø¯Ù‡)

#### 1. ØªØ³Øª Backend
```bash
# Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø¨Ú©â€ŒØ§Ù†Ø¯
cd backend
npm run start:dev

# ØªØ³Øª API Ù‡Ø§ Ø¨Ø§ Thunder Client ÛŒØ§ Postman
# ÙØ§ÛŒÙ„ ØªØ³Øª: backend/test.http
```

**API Ù‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ ØªØ³Øª:**
- POST /api/invoices - Ø§ÛŒØ¬Ø§Ø¯ ÙØ§Ú©ØªÙˆØ±
- GET /api/invoices - Ù„ÛŒØ³Øª ÙØ§Ú©ØªÙˆØ±Ù‡Ø§
- GET /api/invoices/:id - Ø¬Ø²Ø¦ÛŒØ§Øª ÙØ§Ú©ØªÙˆØ±
- PATCH /api/invoices/:id - ÙˆÛŒØ±Ø§ÛŒØ´
- DELETE /api/invoices/:id - Ø­Ø°Ù
- POST /api/invoices/:id/finalize - Ù†Ù‡Ø§ÛŒÛŒ Ú©Ø±Ø¯Ù†
- POST /api/invoices/:id/cancel - Ù„ØºÙˆ
- POST /api/invoices/:id/payments - Ø«Ø¨Øª Ù¾Ø±Ø¯Ø§Ø®Øª
- GET /api/invoices/:id/payments - Ù„ÛŒØ³Øª Ù¾Ø±Ø¯Ø§Ø®Øªâ€ŒÙ‡Ø§

### ÙØ§Ø² 2: Flutter Services

#### 1. InvoiceService
Ù…Ø³ÛŒØ±: `mobile/lib/features/invoice/services/invoice_service.dart`

```dart
import 'package:dio/dio.dart';
import '../models/invoice.dart';
import '../../../core/services/api_service.dart';

class InvoiceService {
  final ApiService _apiService;

  InvoiceService(this._apiService);

  // Ø¯Ø±ÛŒØ§ÙØª Ù„ÛŒØ³Øª ÙØ§Ú©ØªÙˆØ±Ù‡Ø§
  Future<Map<String, dynamic>> getInvoices({
    int page = 1,
    int limit = 20,
    String? search,
    InvoiceType? type,
    InvoiceStatus? status,
    PaymentStatus? paymentStatus,
    ShippingStatus? shippingStatus,
    String? customerId,
    DateTime? fromDate,
    DateTime? toDate,
  }) async {
    try {
      final queryParams = {
        'page': page,
        'limit': limit,
        if (search != null) 'search': search,
        if (type != null) 'type': type.value,
        if (status != null) 'status': status.value,
        if (paymentStatus != null) 'paymentStatus': paymentStatus.value,
        if (shippingStatus != null) 'shippingStatus': shippingStatus.value,
        if (customerId != null) 'customerId': customerId,
        if (fromDate != null) 'fromDate': fromDate.toIso8601String(),
        if (toDate != null) 'toDate': toDate.toIso8601String(),
      };

      final response = await _apiService.get(
        '/invoices',
        queryParameters: queryParams,
      );

      return {
        'data': (response.data['data'] as List)
            .map((json) => Invoice.fromJson(json))
            .toList(),
        'total': response.data['total'],
        'page': response.data['page'],
        'limit': response.data['limit'],
      };
    } catch (e) {
      rethrow;
    }
  }

  // Ø§ÛŒØ¬Ø§Ø¯ ÙØ§Ú©ØªÙˆØ±
  Future<Invoice> createInvoice(Map<String, dynamic> data) async {
    try {
      final response = await _apiService.post('/invoices', data: data);
      return Invoice.fromJson(response.data);
    } catch (e) {
      rethrow;
    }
  }

  // Ø¬Ø²Ø¦ÛŒØ§Øª ÙØ§Ú©ØªÙˆØ±
  Future<Invoice> getInvoiceDetails(String id) async {
    try {
      final response = await _apiService.get('/invoices/$id');
      return Invoice.fromJson(response.data);
    } catch (e) {
      rethrow;
    }
  }

  // ÙˆÛŒØ±Ø§ÛŒØ´ ÙØ§Ú©ØªÙˆØ±
  Future<Invoice> updateInvoice(String id, Map<String, dynamic> data) async {
    try {
      final response = await _apiService.patch('/invoices/$id', data: data);
      return Invoice.fromJson(response.data);
    } catch (e) {
      rethrow;
    }
  }

  // Ø­Ø°Ù ÙØ§Ú©ØªÙˆØ±
  Future<void> deleteInvoice(String id) async {
    try {
      await _apiService.delete('/invoices/$id');
    } catch (e) {
      rethrow;
    }
  }

  // Ù†Ù‡Ø§ÛŒÛŒ Ú©Ø±Ø¯Ù† ÙØ§Ú©ØªÙˆØ±
  Future<Invoice> finalizeInvoice(String id) async {
    try {
      final response = await _apiService.post('/invoices/$id/finalize');
      return Invoice.fromJson(response.data);
    } catch (e) {
      rethrow;
    }
  }

  // Ù„ØºÙˆ ÙØ§Ú©ØªÙˆØ±
  Future<Invoice> cancelInvoice(String id, String? reason) async {
    try {
      final response = await _apiService.post(
        '/invoices/$id/cancel',
        data: {'reason': reason},
      );
      return Invoice.fromJson(response.data);
    } catch (e) {
      rethrow;
    }
  }

  // ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ ÙØ§Ú©ØªÙˆØ± ÙØ±ÙˆØ´
  Future<Invoice> convertToSales(String id) async {
    try {
      final response = await _apiService.post('/invoices/$id/convert-to-sales');
      return Invoice.fromJson(response.data);
    } catch (e) {
      rethrow;
    }
  }

  // Ø«Ø¨Øª Ù¾Ø±Ø¯Ø§Ø®Øª
  Future<InvoicePayment> addPayment(String id, Map<String, dynamic> data) async {
    try {
      final response = await _apiService.post('/invoices/$id/payments', data: data);
      return InvoicePayment.fromJson(response.data);
    } catch (e) {
      rethrow;
    }
  }

  // Ø¯Ø±ÛŒØ§ÙØª Ø´Ù…Ø§Ø±Ù‡ ÙØ§Ú©ØªÙˆØ± Ø¨Ø¹Ø¯ÛŒ
  Future<String> getNextInvoiceNumber() async {
    try {
      final response = await _apiService.get('/invoices/next-number');
      return response.data['invoiceNumber'];
    } catch (e) {
      rethrow;
    }
  }

  // Ú¯Ø²Ø§Ø±Ø´ Ø®Ù„Ø§ØµÙ‡
  Future<Map<String, dynamic>> getSummaryReport({
    DateTime? fromDate,
    DateTime? toDate,
  }) async {
    try {
      final queryParams = {
        if (fromDate != null) 'fromDate': fromDate.toIso8601String(),
        if (toDate != null) 'toDate': toDate.toIso8601String(),
      };

      final response = await _apiService.get(
        '/invoices/reports/summary',
        queryParameters: queryParams,
      );

      return response.data;
    } catch (e) {
      rethrow;
    }
  }
}
```

#### 2. InvoiceProvider (State Management)
Ù…Ø³ÛŒØ±: `mobile/lib/features/invoice/services/invoice_provider.dart`

```dart
import 'package:flutter/material.dart';
import '../models/invoice.dart';
import 'invoice_service.dart';

class InvoiceProvider extends ChangeNotifier {
  final InvoiceService _invoiceService;

  InvoiceProvider(this._invoiceService);

  // State
  List<Invoice> _invoices = [];
  Invoice? _selectedInvoice;
  bool _isLoading = false;
  String? _error;
  int _currentPage = 1;
  int _totalPages = 1;
  int _totalInvoices = 0;

  // Getters
  List<Invoice> get invoices => _invoices;
  Invoice? get selectedInvoice => _selectedInvoice;
  bool get isLoading => _isLoading;
  String? get error => _error;
  int get currentPage => _currentPage;
  int get totalPages => _totalPages;
  int get totalInvoices => _totalInvoices;

  // Load invoices with filters
  Future<void> loadInvoices({
    int page = 1,
    String? search,
    InvoiceType? type,
    InvoiceStatus? status,
    PaymentStatus? paymentStatus,
    ShippingStatus? shippingStatus,
  }) async {
    _isLoading = true;
    _error = null;
    notifyListeners();

    try {
      final result = await _invoiceService.getInvoices(
        page: page,
        search: search,
        type: type,
        status: status,
        paymentStatus: paymentStatus,
        shippingStatus: shippingStatus,
      );

      _invoices = result['data'];
      _totalInvoices = result['total'];
      _currentPage = result['page'];
      _totalPages = (result['total'] / result['limit']).ceil();
    } catch (e) {
      _error = e.toString();
    } finally {
      _isLoading = false;
      notifyListeners();
    }
  }

  // Load invoice details
  Future<void> loadInvoiceDetails(String id) async {
    _isLoading = true;
    _error = null;
    notifyListeners();

    try {
      _selectedInvoice = await _invoiceService.getInvoiceDetails(id);
    } catch (e) {
      _error = e.toString();
    } finally {
      _isLoading = false;
      notifyListeners();
    }
  }

  // Create invoice
  Future<bool> createInvoice(Map<String, dynamic> data) async {
    _isLoading = true;
    _error = null;
    notifyListeners();

    try {
      await _invoiceService.createInvoice(data);
      await loadInvoices(); // Refresh list
      return true;
    } catch (e) {
      _error = e.toString();
      _isLoading = false;
      notifyListeners();
      return false;
    }
  }

  // Delete invoice
  Future<bool> deleteInvoice(String id) async {
    try {
      await _invoiceService.deleteInvoice(id);
      await loadInvoices(); // Refresh list
      return true;
    } catch (e) {
      _error = e.toString();
      notifyListeners();
      return false;
    }
  }

  // Finalize invoice
  Future<bool> finalizeInvoice(String id) async {
    try {
      final updated = await _invoiceService.finalizeInvoice(id);
      _selectedInvoice = updated;
      await loadInvoices(); // Refresh list
      return true;
    } catch (e) {
      _error = e.toString();
      notifyListeners();
      return false;
    }
  }

  // Add payment
  Future<bool> addPayment(String invoiceId, Map<String, dynamic> data) async {
    try {
      await _invoiceService.addPayment(invoiceId, data);
      await loadInvoiceDetails(invoiceId); // Refresh details
      return true;
    } catch (e) {
      _error = e.toString();
      notifyListeners();
      return false;
    }
  }

  void clearError() {
    _error = null;
    notifyListeners();
  }
}
```

### ÙØ§Ø² 3: Flutter Screens

#### Dependencies Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø²
```yaml
# pubspec.yaml
dependencies:
  flutter:
    sdk: flutter
  
  # State Management
  provider: ^6.1.1
  
  # Network
  dio: ^5.4.0
  
  # Date & Time
  persian_datetime_picker: ^2.7.0
  shamsi_date: ^1.0.1
  intl: ^0.18.1
  
  # UI Components
  flutter_slidable: ^3.0.1
  shimmer: ^3.0.0
  
  # PDF
  pdf: ^3.10.7
  printing: ^5.12.0
  
  # Other
  uuid: ^4.2.2
```

#### 1. InvoiceListScreen
Ù…Ø³ÛŒØ±: `mobile/lib/features/invoice/screens/invoice_list_screen.dart`

**ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§:**
- Ù„ÛŒØ³Øª ÙØ§Ú©ØªÙˆØ±Ù‡Ø§ Ø¨Ø§ Card Ù‡Ø§ÛŒ Ø²ÛŒØ¨Ø§
- Ø¬Ø³ØªØ¬Ùˆ Ø¯Ø± Ø´Ù…Ø§Ø±Ù‡ ÙØ§Ú©ØªÙˆØ± Ùˆ Ù†Ø§Ù… Ù…Ø´ØªØ±ÛŒ
- ÙÛŒÙ„ØªØ± Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†ÙˆØ¹ØŒ ÙˆØ¶Ø¹ÛŒØªØŒ Ù¾Ø±Ø¯Ø§Ø®ØªØŒ Ø§Ø±Ø³Ø§Ù„
- Pagination (ØµÙØ­Ù‡â€ŒØ¨Ù†Ø¯ÛŒ)
- Pull to refresh
- Ø¯Ú©Ù…Ù‡ Float Ø¨Ø±Ø§ÛŒ Ø§ÙØ²ÙˆØ¯Ù† ÙØ§Ú©ØªÙˆØ± Ø¬Ø¯ÛŒØ¯
- Ø¹Ù…Ù„ÛŒØ§Øª: Ù…Ø´Ø§Ù‡Ø¯Ù‡ØŒ ÙˆÛŒØ±Ø§ÛŒØ´ØŒ Ø­Ø°ÙØŒ Ù†Ù‡Ø§ÛŒÛŒ Ú©Ø±Ø¯Ù†

**Ø·Ø±Ø§Ø­ÛŒ UI:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ§¾ ÙØ§Ú©ØªÙˆØ±Ù‡Ø§         [ğŸ”] [âš™ï¸]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ÙØ±ÙˆØ´] [Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±] [Ù‡Ù…Ù‡]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ #202411-INV-0001            â”‚ â”‚
â”‚ â”‚ ğŸ‘¤ Ø¹Ù„ÛŒ Ø§Ø­Ù…Ø¯ÛŒ                â”‚ â”‚
â”‚ â”‚ ğŸ“… 1404/09/02  ğŸ’° 5,000,000 â”‚ â”‚
â”‚ â”‚ âœ… Ù¾Ø±Ø¯Ø§Ø®Øª Ø´Ø¯Ù‡  ğŸ“¦ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡ â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚ [Pagination]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        [+] Ø§ÙØ²ÙˆØ¯Ù† ÙØ§Ú©ØªÙˆØ±
```

#### 2. InvoiceTypeSelectionScreen
Ù…Ø³ÛŒØ±: `mobile/lib/features/invoice/screens/invoice_type_selection_screen.dart`

**Ø·Ø±Ø§Ø­ÛŒ:**
- Bottom Sheet ÛŒØ§ ØµÙØ­Ù‡ Ø¬Ø¯ÛŒØ¯
- Ø¯Ùˆ Ú©Ø§Ø±Øª Ø¨Ø²Ø±Ú¯ Ø¨Ø±Ø§ÛŒ ÙØ§Ú©ØªÙˆØ± ÙØ±ÙˆØ´ Ùˆ Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±
- ØªÙˆØ¶ÛŒØ­ Ù…Ø®ØªØµØ± Ù‡Ø± Ú©Ø¯Ø§Ù…

#### 3. PersianDatePickerScreen
Ù¾Ú©ÛŒØ¬: `persian_datetime_picker`

```dart
import 'package:persian_datetime_picker/persian_datetime_picker.dart';

Future<Jalali?> showPersianDatePicker(BuildContext context) async {
  return await showPersianDatePicker(
    context: context,
    initialDate: Jalali.now(),
    firstDate: Jalali(1400, 1),
    lastDate: Jalali(1410, 12),
    builder: (context, child) {
      return Theme(
        data: ThemeData.light().copyWith(
          colorScheme: ColorScheme.light(
            primary: Theme.of(context).primaryColor,
          ),
        ),
        child: child!,
      );
    },
  );
}
```

#### 4. CustomerSelectionScreen
Ù…Ø³ÛŒØ±: `mobile/lib/features/customer/screens/customer_selection_screen.dart`

**ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§:**
- Ù„ÛŒØ³Øª Ù…Ø´ØªØ±ÛŒØ§Ù† Ø¨Ø§ Ø¬Ø³ØªØ¬Ùˆ
- Ù†Ù…Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø®Ù„Ø§ØµÙ‡ (Ù†Ø§Ù…ØŒ ØªÙ„ÙÙ†ØŒ Ø¨Ø¯Ù‡ÛŒ)
- Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø§ ØªÙ¾
- Ø¯Ú©Ù…Ù‡ Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø´ØªØ±ÛŒ Ø¬Ø¯ÛŒØ¯

#### 5. ProductSelectionScreen
Ù…Ø³ÛŒØ±: `mobile/lib/features/product/screens/product_selection_screen.dart`

**ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§:**
- Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª Ùˆ ØªÙ†ÙˆØ¹â€ŒÙ‡Ø§
- Ø¨Ø±Ø§ÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¨Ø§ ØªÙ†ÙˆØ¹: Ù†Ù…Ø§ÛŒØ´ ØªÙ†ÙˆØ¹â€ŒÙ‡Ø§ Ø¨Ù‡ Ø¬Ø§ÛŒ Ù…Ø­ØµÙˆÙ„ Ø§ØµÙ„ÛŒ
- Ø¬Ø³ØªØ¬Ùˆ
- Ø§Ù†ØªØ®Ø§Ø¨ Ú†Ù†Ø¯ØªØ§ÛŒÛŒ Ø¨Ø§ Counter
- Ù†Ù…Ø§ÛŒØ´ Ù‚ÛŒÙ…Øª Ù‡Ø± Ø¢ÛŒØªÙ…
- Ø¯Ú©Ù…Ù‡ ØªØ§ÛŒÛŒØ¯ Ùˆ Ø¨Ø§Ø²Ú¯Ø´Øª

**Ø·Ø±Ø§Ø­ÛŒ:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø­ØµÙˆÙ„Ø§Øª      [âœ“] ØªØ§ÛŒÛŒØ¯  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ğŸ” Ø¬Ø³ØªØ¬Ùˆ...]                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â˜‘ï¸ Ù„Ù¾â€ŒØªØ§Ù¾ Ø§ÛŒØ³ÙˆØ³ X550          â”‚
â”‚    18,000,000 Ø±ÛŒØ§Ù„              â”‚
â”‚    [-] 2 [+]                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â˜ Ú©ÛŒØ¨ÙˆØ±Ø¯ Ù„Ø§Ø¬ÛŒØªÚ© K120          â”‚
â”‚    250,000 Ø±ÛŒØ§Ù„                 â”‚
â”‚    [-] 0 [+]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 6. CreateInvoiceScreen
Ù…Ø³ÛŒØ±: `mobile/lib/features/invoice/screens/create_invoice_screen.dart`

**ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§:**
- Step by step wizard ÛŒØ§ ÛŒÚ© ØµÙØ­Ù‡ Ø·ÙˆÙ„Ø§Ù†ÛŒ Ø¨Ø§ Scroll
- Ø§Ù†ØªØ®Ø§Ø¨ ØªØ§Ø±ÛŒØ® Ø¨Ø§ date picker
- Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø´ØªØ±ÛŒ
- Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø­ØµÙˆÙ„Ø§Øª
- Ø¬Ø¯ÙˆÙ„ Ø§Ù‚Ù„Ø§Ù… Ø¨Ø§ Ø§Ù…Ú©Ø§Ù† ÙˆÛŒØ±Ø§ÛŒØ´ ØªØ¹Ø¯Ø§Ø¯
- Ú©Ø§Ø±Øª Ù…Ø­Ø§Ø³Ø¨Ø§Øª (Ø¬Ù…Ø¹ØŒ ØªØ®ÙÛŒÙØŒ Ù…Ø§Ù„ÛŒØ§ØªØŒ Ù‡Ø²ÛŒÙ†Ù‡ Ø§Ø¶Ø§ÙÛŒ)
- Toggle Ù‡Ø§ÛŒ ØªØ®ÙÛŒÙØŒ Ù…Ø§Ù„ÛŒØ§ØªØŒ Ù‡Ø²ÛŒÙ†Ù‡ Ø§Ø¶Ø§ÙÛŒ
- Ø§Ù†ØªØ®Ø§Ø¨ ÙˆØ¶Ø¹ÛŒØª Ù¾Ø±Ø¯Ø§Ø®Øª Ùˆ Ø§Ø±Ø³Ø§Ù„ (Ø¨Ø±Ø§ÛŒ ÙØ§Ú©ØªÙˆØ± ÙØ±ÙˆØ´)
- ÙÛŒÙ„Ø¯ ØªÙˆØ¶ÛŒØ­Ø§Øª
- Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ù¾ÛŒØ´â€ŒÙ†ÙˆÛŒØ³ Ùˆ Ù†Ù‡Ø§ÛŒÛŒ Ú©Ø±Ø¯Ù†

**Ø·Ø±Ø§Ø­ÛŒ:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Ø§ÛŒØ¬Ø§Ø¯ ÙØ§Ú©ØªÙˆØ±         [Ø°Ø®ÛŒØ±Ù‡] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“… ØªØ§Ø±ÛŒØ®: 1404/09/02 [ğŸ“…]      â”‚
â”‚  ğŸ‘¤ Ù…Ø´ØªØ±ÛŒ: Ø¹Ù„ÛŒ Ø§Ø­Ù…Ø¯ÛŒ [Ø§Ù†ØªØ®Ø§Ø¨]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“¦ Ø§Ù‚Ù„Ø§Ù… ÙØ§Ú©ØªÙˆØ±        [Ø§ÙØ²ÙˆØ¯Ù†]â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Ù„Ù¾â€ŒØªØ§Ù¾ Ø§ÛŒØ³ÙˆØ³              â”‚ â”‚
â”‚  â”‚ 2 Ã— 18,000,000            â”‚ â”‚
â”‚  â”‚ = 36,000,000     [ğŸ—‘ï¸] [âœï¸] â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’° Ù…Ø­Ø§Ø³Ø¨Ø§Øª                     â”‚
â”‚  Ø¬Ù…Ø¹ Ù…Ø¨Ù„Øº: 36,000,000           â”‚
â”‚  ğŸ ØªØ®ÙÛŒÙ: [Toggle] [10%] [âœï¸] â”‚
â”‚  ğŸ“Š Ù…Ø§Ù„ÛŒØ§Øª (9%): 3,240,000      â”‚
â”‚  ğŸ’¸ Ù‡Ø²ÛŒÙ†Ù‡ Ø§Ø¶Ø§ÙÛŒ: [Toggle] [+]  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Ù…Ø¨Ù„Øº Ù†Ù‡Ø§ÛŒÛŒ: 39,240,000         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’³ ÙˆØ¶Ø¹ÛŒØª Ù¾Ø±Ø¯Ø§Ø®Øª: [Ø§Ù†ØªØ®Ø§Ø¨]     â”‚
â”‚  ğŸ“¦ ÙˆØ¶Ø¹ÛŒØª Ø§Ø±Ø³Ø§Ù„: [Ø§Ù†ØªØ®Ø§Ø¨]      â”‚
â”‚  ğŸ“ ØªÙˆØ¶ÛŒØ­Ø§Øª: [...]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 7. InvoiceDetailScreen
Ù…Ø³ÛŒØ±: `mobile/lib/features/invoice/screens/invoice_detail_screen.dart`

**ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§:**
- Ù†Ù…Ø§ÛŒØ´ Ú©Ø§Ù…Ù„ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ÙØ§Ú©ØªÙˆØ±
- Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…Ø´ØªØ±ÛŒ
- Ø¬Ø¯ÙˆÙ„ Ø§Ù‚Ù„Ø§Ù…
- Ù…Ø­Ø§Ø³Ø¨Ø§Øª
- ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§
- Ù„ÛŒØ³Øª Ù¾Ø±Ø¯Ø§Ø®Øªâ€ŒÙ‡Ø§ (Ø¨Ø±Ø§ÛŒ ÙØ§Ú©ØªÙˆØ± ÙØ±ÙˆØ´)
- Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¹Ù…Ù„ÛŒØ§Øª: ÙˆÛŒØ±Ø§ÛŒØ´ØŒ Ø­Ø°ÙØŒ PDFØŒ Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒ
- Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±: Ø¯Ú©Ù…Ù‡ ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ ÙØ§Ú©ØªÙˆØ± ÙØ±ÙˆØ´

### ÙØ§Ø² 4: Widgets

#### 1. InvoiceCard
Ù…Ø³ÛŒØ±: `mobile/lib/features/invoice/widgets/invoice_card.dart`

**ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§:**
- Ù†Ù…Ø§ÛŒØ´ Ø®Ù„Ø§ØµÙ‡ ÙØ§Ú©ØªÙˆØ±
- Badge Ù‡Ø§ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø¨Ø§ Ø±Ù†Ú¯â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù
- Ù‚Ø§Ø¨Ù„ ØªÙ¾ Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ø¬Ø²Ø¦ÛŒØ§Øª
- Slidable Ø¨Ø±Ø§ÛŒ Ø¹Ù…Ù„ÛŒØ§Øª Ø³Ø±ÛŒØ¹

#### 2. InvoiceItemTable
Ù…Ø³ÛŒØ±: `mobile/lib/features/invoice/widgets/invoice_item_table.dart`

**ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§:**
- Ø¬Ø¯ÙˆÙ„ Ø§Ù‚Ù„Ø§Ù…
- Ù†Ù…Ø§ÛŒØ´ Ù†Ø§Ù…ØŒ ØªØ¹Ø¯Ø§Ø¯ØŒ Ù‚ÛŒÙ…Øª ÙˆØ§Ø­Ø¯ØŒ Ø¬Ù…Ø¹
- Ø§Ù…Ú©Ø§Ù† ÙˆÛŒØ±Ø§ÛŒØ´ ØªØ¹Ø¯Ø§Ø¯ (Ø¯Ø± Ø­Ø§Ù„Øª ÙˆÛŒØ±Ø§ÛŒØ´)

#### 3. InvoiceCalculationPanel
Ù…Ø³ÛŒØ±: `mobile/lib/features/invoice/widgets/invoice_calculation_panel.dart`

**ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§:**
- Ù†Ù…Ø§ÛŒØ´ Ù…Ø­Ø§Ø³Ø¨Ø§Øª
- Ø¬Ù…Ø¹ØŒ ØªØ®ÙÛŒÙØŒ Ù…Ø§Ù„ÛŒØ§ØªØŒ Ù‡Ø²ÛŒÙ†Ù‡ Ø§Ø¶Ø§ÙÛŒØŒ Ù…Ø¨Ù„Øº Ù†Ù‡Ø§ÛŒÛŒ
- Expandable Ø¨Ø±Ø§ÛŒ Ø¬Ø²Ø¦ÛŒØ§Øª

#### 4. InvoiceStatusBadge
Ù…Ø³ÛŒØ±: `mobile/lib/features/invoice/widgets/invoice_status_badge.dart`

**ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§:**
- Badge Ø¨Ø§ Ø±Ù†Ú¯ Ùˆ Ø¢ÛŒÚ©ÙˆÙ† Ù…Ù†Ø§Ø³Ø¨
- Ø¨Ø±Ø§ÛŒ ØªÙ…Ø§Ù… Ù†ÙˆØ¹ ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§

#### 5. PaymentMethodSelector
Ù…Ø³ÛŒØ±: `mobile/lib/features/invoice/widgets/payment_method_selector.dart`

**ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§:**
- BottomSheet ÛŒØ§ Dialog
- Ù„ÛŒØ³Øª Ø±ÙˆØ´â€ŒÙ‡Ø§ÛŒ Ù¾Ø±Ø¯Ø§Ø®Øª Ø¨Ø§ Ø¢ÛŒÚ©ÙˆÙ†

#### 6. DiscountInput
Ù…Ø³ÛŒØ±: `mobile/lib/features/invoice/widgets/discount_input.dart`

**ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§:**
- Toggle Ø¨Ø±Ø§ÛŒ ÙØ¹Ø§Ù„/ØºÛŒØ±ÙØ¹Ø§Ù„
- Ø§Ù†ØªØ®Ø§Ø¨ Ù†ÙˆØ¹ (Ø¯Ø±ØµØ¯/Ù…Ø¨Ù„Øº)
- Input Ø¨Ø±Ø§ÛŒ Ù…Ù‚Ø¯Ø§Ø±

### ÙØ§Ø² 5: PDF Generation

#### Ù¾Ú©ÛŒØ¬â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø²
```yaml
dependencies:
  pdf: ^3.10.7
  printing: ^5.12.0
```

#### InvoicePdfService
Ù…Ø³ÛŒØ±: `mobile/lib/features/invoice/services/invoice_pdf_service.dart`

```dart
import 'package:pdf/pdf.dart';
import 'package:pdf/widgets.dart' as pw;
import 'package:printing/printing.dart';
import '../models/invoice.dart';

class InvoicePdfService {
  Future<void> generateAndPreview(Invoice invoice) async {
    final pdf = pw.Document();

    pdf.addPage(
      pw.Page(
        pageFormat: PdfPageFormat.a4,
        build: (context) {
          return pw.Column(
            crossAxisAlignment: pw.CrossAxisAlignment.start,
            children: [
              // Header
              pw.Row(
                mainAxisAlignment: pw.MainAxisAlignment.spaceBetween,
                children: [
                  pw.Text(
                    'ÙØ§Ú©ØªÙˆØ± ${invoice.type.label}',
                    style: pw.TextStyle(
                      fontSize: 24,
                      fontWeight: pw.FontWeight.bold,
                    ),
                  ),
                  pw.Text('Ø´Ù…Ø§Ø±Ù‡: ${invoice.invoiceNumber}'),
                ],
              ),
              pw.SizedBox(height: 20),
              
              // Customer Info
              pw.Text('Ù…Ø´ØªØ±ÛŒ: ${invoice.customerName ?? ""}'),
              pw.Text('ØªØ§Ø±ÛŒØ®: ${invoice.issueDate}'),
              pw.SizedBox(height: 20),
              
              // Items Table
              pw.Table(
                border: pw.TableBorder.all(),
                children: [
                  // Header
                  pw.TableRow(
                    children: [
                      pw.Text('Ø±Ø¯ÛŒÙ'),
                      pw.Text('Ù…Ø­ØµÙˆÙ„'),
                      pw.Text('ØªØ¹Ø¯Ø§Ø¯'),
                      pw.Text('Ù‚ÛŒÙ…Øª ÙˆØ§Ø­Ø¯'),
                      pw.Text('Ø¬Ù…Ø¹'),
                    ],
                  ),
                  // Items
                  ...invoice.items.asMap().entries.map((entry) {
                    final item = entry.value;
                    return pw.TableRow(
                      children: [
                        pw.Text('${entry.key + 1}'),
                        pw.Text(item.productName),
                        pw.Text('${item.quantity}'),
                        pw.Text('${item.unitPrice}'),
                        pw.Text('${item.totalPrice}'),
                      ],
                    );
                  }),
                ],
              ),
              pw.SizedBox(height: 20),
              
              // Totals
              pw.Row(
                mainAxisAlignment: pw.MainAxisAlignment.end,
                children: [
                  pw.Column(
                    crossAxisAlignment: pw.CrossAxisAlignment.end,
                    children: [
                      pw.Text('Ø¬Ù…Ø¹ Ù…Ø¨Ù„Øº: ${invoice.subtotal}'),
                      pw.Text('ØªØ®ÙÛŒÙ: ${invoice.discountAmount}'),
                      pw.Text('Ù…Ø§Ù„ÛŒØ§Øª: ${invoice.taxAmount}'),
                      pw.Divider(),
                      pw.Text(
                        'Ù…Ø¨Ù„Øº Ù†Ù‡Ø§ÛŒÛŒ: ${invoice.totalAmount}',
                        style: pw.TextStyle(
                          fontSize: 18,
                          fontWeight: pw.FontWeight.bold,
                        ),
                      ),
                    ],
                  ),
                ],
              ),
            ],
          );
        },
      ),
    );

    await Printing.layoutPdf(
      onLayout: (format) async => pdf.save(),
    );
  }
}
```

### ÙØ§Ø² 6: Testing

#### Backend Testing
```bash
# ØªØ³Øª Ø¨Ø§ npm scripts
npm test

# ØªØ³Øª manual Ø¨Ø§ Thunder Client
# ÙØ§ÛŒÙ„: backend/test.http
```

#### Flutter Testing
```bash
# Unit Tests
flutter test

# Integration Tests
flutter test integration_test/

# Widget Tests
flutter test test/widgets/
```

### Ù†Ú©Ø§Øª Ù…Ù‡Ù… UI/UX

#### ØªÙ… Ùˆ Ø±Ù†Ú¯â€ŒÙ‡Ø§
```dart
// Ù¾Ø§Ù„Øª Ø±Ù†Ú¯ÛŒ
const primaryColor = Color(0xFF4CAF50);     // Ø³Ø¨Ø²
const errorColor = Color(0xFFF44336);       // Ù‚Ø±Ù…Ø²
const warningColor = Color(0xFFFF9800);     // Ù†Ø§Ø±Ù†Ø¬ÛŒ
const infoColor = Color(0xFF2196F3);        // Ø¢Ø¨ÛŒ

// Dark Mode
final darkTheme = ThemeData.dark().copyWith(
  // ...
);

// Light Mode
final lightTheme = ThemeData.light().copyWith(
  // ...
);
```

#### Font
```yaml
# pubspec.yaml
fonts:
  - family: IRANSans
    fonts:
      - asset: assets/fonts/IRANSans-Regular.ttf
      - asset: assets/fonts/IRANSans-Bold.ttf
        weight: 700
```

#### Spacing
```dart
// Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ spacing
const kSpacingSmall = 8.0;
const kSpacingMedium = 16.0;
const kSpacingLarge = 24.0;

// Border Radius
const kBorderRadius = 12.0;
```

#### Animation
```dart
// Duration
const kAnimationDuration = Duration(milliseconds: 300);
const kAnimationDurationFast = Duration(milliseconds: 150);

// Curves
const kAnimationCurve = Curves.easeInOut;
```

## ğŸ“ Ù†Ú©Ø§Øª Ù†Ù‡Ø§ÛŒÛŒ

### 1. Error Handling
Ù‡Ù…ÛŒØ´Ù‡ error handling Ù…Ù†Ø§Ø³Ø¨ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯:
```dart
try {
  // API call
} on DioException catch (e) {
  if (e.response?.statusCode == 404) {
    // Not found
  } else if (e.response?.statusCode == 400) {
    // Bad request
  }
} catch (e) {
  // General error
}
```

### 2. Loading States
Ø§Ø² Shimmer Ø¨Ø±Ø§ÛŒ loading Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯:
```dart
Shimmer.fromColors(
  baseColor: Colors.grey[300]!,
  highlightColor: Colors.grey[100]!,
  child: Container(...),
)
```

### 3. Empty States
Ø¨Ø±Ø§ÛŒ Ù„ÛŒØ³Øª Ø®Ø§Ù„ÛŒ UI Ø²ÛŒØ¨Ø§ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯:
```dart
Center(
  child: Column(
    children: [
      Icon(Icons.receipt_long, size: 64),
      Text('Ù‡Ù†ÙˆØ² ÙØ§Ú©ØªÙˆØ±ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡'),
      ElevatedButton(
        onPressed: () {},
        child: Text('Ø§ÛŒØ¬Ø§Ø¯ ÙØ§Ú©ØªÙˆØ± Ø§ÙˆÙ„'),
      ),
    ],
  ),
)
```

### 4. Validation
ØªÙ…Ø§Ù… ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§ Ø±Ø§ validate Ú©Ù†ÛŒØ¯:
```dart
final formKey = GlobalKey<FormState>();

TextFormField(
  validator: (value) {
    if (value == null || value.isEmpty) {
      return 'Ø§ÛŒÙ† ÙÛŒÙ„Ø¯ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª';
    }
    return null;
  },
)
```

### 5. Navigation
Ø§Ø² Named Routes Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯:
```dart
// routes.dart
static const invoiceList = '/invoices';
static const invoiceCreate = '/invoices/create';
static const invoiceDetail = '/invoices/:id';
```

## ğŸš€ Ø§ÙˆÙ„ÙˆÛŒØªâ€ŒØ¨Ù†Ø¯ÛŒ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ

### Ù‡ÙØªÙ‡ 1
1. ØªØ³Øª Ú©Ø§Ù…Ù„ Backend
2. InvoiceService Ùˆ Provider
3. InvoiceListScreen (Ø³Ø§Ø¯Ù‡)

### Ù‡ÙØªÙ‡ 2
4. CustomerSelectionScreen
5. ProductSelectionScreen
6. CreateInvoiceScreen (ÙØ±Ù… Ø§ÙˆÙ„ÛŒÙ‡)

### Ù‡ÙØªÙ‡ 3
7. InvoiceDetailScreen
8. ØªÙ…Ø§Ù… Widgets
9. PDF Generator

### Ù‡ÙØªÙ‡ 4
10. Polish Ùˆ Refactor
11. Testing
12. Bug Fixes

## ğŸ“š Ù…Ù†Ø§Ø¨Ø¹

- [NestJS Documentation](https://docs.nestjs.com/)
- [Flutter Documentation](https://docs.flutter.dev/)
- [Persian DateTime Picker](https://pub.dev/packages/persian_datetime_picker)
- [PDF Package](https://pub.dev/packages/pdf)
- [Printing Package](https://pub.dev/packages/printing)

---

**Ù…ÙˆÙÙ‚ Ø¨Ø§Ø´ÛŒØ¯! ğŸ‰**
